(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(30),i=a.n(c),o=a(14),l=a(8),s=a(9),u=a(12),d=a(11),m=a(13),h=a(2),p=(a(38),a(39),a(1)),v=a(18),b=a.n(v).a.create({baseURL:"https://spring-boot-react-postgresql.herokuapp.com/api",headers:{"Content-type":"application/json"}}),g=new(function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(){return b.get("/products")}},{key:"get",value:function(e){return b.get("/products/".concat(e))}},{key:"create",value:function(e){return b.post("/products",e)}},{key:"update",value:function(e,t){return b.put("/products/".concat(e),t)}},{key:"delete",value:function(e){return b.delete("/products/".concat(e))}},{key:"deleteAll",value:function(){return b.delete("/products")}},{key:"findByName",value:function(e){return b.get("/products?name=".concat(e))}}]),e}()),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeCode=a.onChangeCode.bind(Object(p.a)(a)),a.onChangeName=a.onChangeName.bind(Object(p.a)(a)),a.onChangePricehrk=a.onChangePricehrk.bind(Object(p.a)(a)),a.onChangePriceeur=a.onChangePriceeur.bind(Object(p.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(p.a)(a)),a.saveProduct=a.saveProduct.bind(Object(p.a)(a)),a.newProduct=a.newProduct.bind(Object(p.a)(a)),a.state={eurconversion:"",message:"",DataisLoaded:!1,id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1,submitted:!1},a.seteurconversion(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"seteurconversion",value:function(){var e=this;fetch("../eur_conversion").then((function(e){return e.text()})).then((function(t){e.setState({eurconversion:t})}))}},{key:"onChangeCode",value:function(e){this.setState({code:e.target.value})}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangePricehrk",value:function(e){var t=(e.target.value/this.state.eurconversion).toFixed(2);this.setState({pricehrk:e.target.value,priceeur:t})}},{key:"onChangePriceeur",value:function(e){this.setState({priceeur:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"saveProduct",value:function(){var e=this,t=parseFloat(this.state.pricehrk);if(10==this.state.code.trim().length){(""==this.state.pricehrk.trim()||0==this.state.pricehrk.trim().length||isNaN(t))&&(t=0),t<0&&(t=0);var a=((t=t.toFixed(2))/this.state.eurconversion).toFixed(2);this.setState({pricehrk:t,priceeur:a});var r={code:this.state.code,name:this.state.name,pricehrk:t,priceeur:a,description:this.state.description};g.create(r).then((function(t){e.setState({id:t.data.id,code:t.data.code,name:t.data.name,pricehrk:t.data.pricehrk,priceeur:t.data.priceeur,description:t.data.description,isAvailable:t.data.isAvailable,submitted:!0}),e.setState({message:""}),console.log(t.data)})).catch((function(e){console.log(e)}))}else this.setState({message:"Code (unique) (exactly 10 character) !"})}},{key:"newProduct",value:function(){this.setState({id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1,submitted:!1})}},{key:"render",value:function(){return n.a.createElement("div",{className:"submit-form"},this.state.submitted?n.a.createElement("div",null,n.a.createElement("h4",null,"You submitted successfully!"),n.a.createElement("button",{className:"btn btn-success",onClick:this.newProduct},"Add")):n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"code"},"Code"),n.a.createElement("input",{type:"text",className:"form-control",id:"code",required:!0,value:this.state.code,onChange:this.onChangeCode,name:"code"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"name",required:!0,value:this.state.name,onChange:this.onChangeName,name:"name"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"pricehrk"},"Pricehrk"),n.a.createElement("input",{type:"text",className:"form-control",style:{textAlign:"right"},id:"pricehrk",required:!0,value:this.state.pricehrk,onChange:this.onChangePricehrk,name:"pricehrk"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"priceeur"},"Priceeur"),n.a.createElement("input",{type:"text",className:"form-control",style:{textAlign:"right"},id:"priceeur",required:!0,value:this.state.priceeur,onChange:this.onChangePriceeur,name:"priceeur",disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description"},"Description"),n.a.createElement("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})),n.a.createElement("button",{onClick:this.saveProduct,className:"btn btn-success"},"Submit"),n.a.createElement("p",null,this.state.message)))}}]),t}(r.Component),P=a(10),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeCode=a.onChangeCode.bind(Object(p.a)(a)),a.onChangeName=a.onChangeName.bind(Object(p.a)(a)),a.onChangePricehrk=a.onChangePricehrk.bind(Object(p.a)(a)),a.onChangePriceeur=a.onChangePriceeur.bind(Object(p.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(p.a)(a)),a.getProduct=a.getProduct.bind(Object(p.a)(a)),a.updateisAvailable=a.updateisAvailable.bind(Object(p.a)(a)),a.updateProduct=a.updateProduct.bind(Object(p.a)(a)),a.deleteProduct=a.deleteProduct.bind(Object(p.a)(a)),a.state={currentProduct:{id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1},eurconversion:"",message:""},a.seteurconversion(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"seteurconversion",value:function(){var e=this;fetch("../eur_conversion").then((function(e){return e.text()})).then((function(t){e.setState({eurconversion:t})}))}},{key:"componentDidMount",value:function(){this.getProduct(this.props.match.params.id)}},{key:"onChangeCode",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(P.a)({},e.currentProduct,{code:t})}}))}},{key:"onChangeName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(P.a)({},e.currentProduct,{name:t})}}))}},{key:"onChangePricehrk",value:function(e){var t=e.target.value,a=(e.target.value/this.state.eurconversion).toFixed(2);this.setState((function(e){return{currentProduct:Object(P.a)({},e.currentProduct,{pricehrk:t,priceeur:a})}}))}},{key:"onChangePriceeur",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(P.a)({},e.currentProduct,{priceeur:t})}}))}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(P.a)({},e.currentProduct,{description:t})}}))}},{key:"getProduct",value:function(e){var t=this;g.get(e).then((function(e){t.setState({currentProduct:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updateisAvailable",value:function(e){var t=this,a=parseFloat(this.state.currentProduct.pricehrk);if(10==this.state.currentProduct.code.trim().length){(""==this.state.currentProduct.pricehrk.trim()||0==this.state.currentProduct.pricehrk.trim().length||isNaN(a))&&(a=0),a<0&&(a=0),a=a.toFixed(2);var r=this.state.eurconversion,n=(a/r).toFixed(2);this.setState((function(e){return{currentProduct:Object(P.a)({},e.currentProduct,{pricehrk:a,priceeur:n})}}));var c={id:this.state.currentProduct.id,code:this.state.currentProduct.code,name:this.state.currentProduct.name,pricehrk:a,priceeur:n,description:this.state.currentProduct.description,isAvailable:e};g.update(this.state.currentProduct.id,c).then((function(a){t.setState((function(t){return{currentProduct:Object(P.a)({},t.currentProduct,{isAvailable:e})}})),e?t.setState({message:"Product is available !"}):t.setState({message:"Product is not available !"}),console.log(a.data)})).catch((function(e){console.log(e)}))}else this.setState({message:"Code (unique) (exactly 10 character) !"})}},{key:"updateProduct",value:function(){var e=this,t=parseFloat(this.state.currentProduct.pricehrk);if(10==this.state.currentProduct.code.trim().length){(""==this.state.currentProduct.pricehrk.trim()||0==this.state.currentProduct.pricehrk.trim().length||isNaN(t))&&(t=0),t<0&&(t=0),t=t.toFixed(2);var a=this.state.eurconversion,r=(t/a).toFixed(2);this.setState((function(e){return{currentProduct:Object(P.a)({},e.currentProduct,{pricehrk:t,priceeur:r})}}));var n={id:this.state.currentProduct.id,code:this.state.currentProduct.code,name:this.state.currentProduct.name,pricehrk:t,priceeur:r,description:this.state.currentProduct.description,isAvailable:this.state.currentProduct.isAvailable};g.update(this.state.currentProduct.id,n).then((function(t){e.setState((function(e){return{currentProduct:Object(P.a)({},e.currentProduct)}})),console.log(t.data),e.setState({message:"The product was updated successfully!"})})).catch((function(e){console.log(e)}))}else this.setState({message:"Code (unique) (exactly 10 character) !"})}},{key:"deleteProduct",value:function(){var e=this;g.delete(this.state.currentProduct.id).then((function(t){console.log(t.data),e.props.history.push("/products")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.currentProduct;return n.a.createElement("div",null,t?n.a.createElement("div",{className:"edit-form"},n.a.createElement("h4",null,"Product"),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"code"},"Code"),n.a.createElement("input",{type:"text",className:"form-control",id:"code",value:t.code,onChange:this.onChangeCode})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"name",value:t.name,onChange:this.onChangeName})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"pricehrk"},"Pricehrk"),n.a.createElement("input",{type:"text",className:"form-control",style:{textAlign:"right"},id:"pricehrk",value:t.pricehrk,onChange:this.onChangePricehrk})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"priceeur"},"Priceeur"),n.a.createElement("input",{type:"text",className:"form-control",style:{textAlign:"right"},id:"priceeur",value:t.priceeur,onChange:this.onChangePriceeur,disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description"},"Description"),n.a.createElement("input",{type:"text",className:"form-control",id:"description",value:t.description,onChange:this.onChangeDescription})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,n.a.createElement("strong",null,"Status:")),t.isAvailable?"isAvailable":"Pending")),t.isAvailable?n.a.createElement("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updateisAvailable(!1)}},"IsNotAvailable"):n.a.createElement("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updateisAvailable(!0)}},"IsAvailable"),n.a.createElement("button",{className:"badge badge-danger mr-2",onClick:this.deleteProduct},"Delete"),n.a.createElement("button",{type:"submit",className:"badge badge-success",onClick:this.updateProduct},"Update"),n.a.createElement("p",null,this.state.message)):n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("p",null,"Please click on a Product...")))}}]),t}(r.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeSearchName=a.onChangeSearchName.bind(Object(p.a)(a)),a.retrieveProducts=a.retrieveProducts.bind(Object(p.a)(a)),a.refreshList=a.refreshList.bind(Object(p.a)(a)),a.setActiveProduct=a.setActiveProduct.bind(Object(p.a)(a)),a.removeAllProducts=a.removeAllProducts.bind(Object(p.a)(a)),a.searchName=a.searchName.bind(Object(p.a)(a)),a.state={products:[],currentProduct:null,currentIndex:-1,searchName:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.retrieveProducts()}},{key:"onChangeSearchName",value:function(e){var t=e.target.value;this.setState({searchName:t})}},{key:"retrieveProducts",value:function(){var e=this;g.getAll().then((function(t){e.setState({products:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveProducts(),this.setState({currentProduct:null,currentIndex:-1})}},{key:"setActiveProduct",value:function(e,t){this.setState({currentProduct:e,currentIndex:t})}},{key:"removeAllProducts",value:function(){var e=this;g.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchName",value:function(){var e=this;this.setState({currentProduct:null,currentIndex:-1}),g.findByName(this.state.searchName).then((function(t){e.setState({products:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchName,r=t.products,c=t.currentProduct,i=t.currentIndex;return n.a.createElement("div",{className:"list row"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search by name",value:a,onChange:this.onChangeSearchName}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchName},"Search")))),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h4",null,"Products List"),n.a.createElement("ul",{className:"list-group"},r&&r.map((function(t,a){return n.a.createElement("li",{className:"list-group-item "+(a===i?"active":""),onClick:function(){return e.setActiveProduct(t,a)},key:a},t.name)}))),n.a.createElement("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllProducts},"Remove All")),n.a.createElement("div",{className:"col-md-6"},c?n.a.createElement("div",null,n.a.createElement("h4",null,"Product"),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Code:"))," ",c.code),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Name:"))," ",c.name),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Pricehrk:"))," ",c.pricehrk),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Priceeur:"))," ",c.priceeur),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Description:"))," ",c.description),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Status:"))," ",c.isAvailable?"IsAvailable":"Pending"),n.a.createElement(o.b,{to:"/products/"+c.id,className:"badge badge-warning"},"Edit")):n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("p",null,"Please click on a Product..."))))}}]),t}(r.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},n.a.createElement(o.b,{to:"/products",className:"navbar-brand"},"Example"),n.a.createElement("div",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{to:"/products",className:"nav-link"},"Products")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{to:"/add",className:"nav-link"},"Add")))),n.a.createElement("div",{className:"container mt-3"},n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:["/","/products"],component:k}),n.a.createElement(h.a,{exact:!0,path:"/add",component:f}),n.a.createElement(h.a,{path:"/products/:id",component:E}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(o.a,null,n.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.403320d6.chunk.js.map